# 開発環境導入編

本ページでは、C++の開発環境の導入方法について説明します。

Linuxなんかだと、取り敢えずgccが入ってくれているので

```shell
$ g++ test.cpp
$ ./a.out
hello world
```

という感じでビルドから実行まで出来てしまいます

しかし、Windows環境では何らかの開発環境の導入が必要になるのですが、困った事に導入には候補がいくつもあり、しかもそれぞれ異なった方向性の**初学者に対するメリット・デメリット**を抱えている状況となっています。なので、私の方からは以下の３つの開発環境と導入方法を紹介します

- WebサービスのC++開発環境
- Visual Studio Community
- gnupack

## WebサービスのC++開発環境

最近はWebページ上でソースコード記述からビルド及び実行までが出来るものが用意されています

### 導入手順

いくつかサービスが用意されているようですが、取り敢えず最初に見つかったページを紹介しておきます

[paiza.io](https://paiza.io/ja/projects/new)

いくつかのプログラミング言語に対応しているようなのでC++に設定してお使い下さい

### メリット

- 導入の手間がありません

### デメリット

- デバッガ等の基礎的な開発補助機能は期待出来ない。
  - REPL(Read-eval-print loop…対話型評価環境)とも比べ物になりません



### Visual Studio Community

#### 導入方法

[Installerへのリンク](https://visualstudio.microsoft.com/ja/)

1. Visual Studio IDE下の[Windows用インストーラー]をクリック

2. [Community 2017]を選んで、インストーラーをダウンロードする

3. インストールするコンポーネントでC++を選ぶ

   オプションが山のようにあるので、初心者が適切な

#### 良い点

- C++開発環境としてこの上ない程にリッチな環境が手に入る

  - 強力なデバッガ
  - インテリセンスによる強力な入力補助
  - C++17に対応済み

- インストーラーから複数の開発言語の導入が出来る


#### 悪い点

- インストーラーが初心者には逆の意味でリッチ過ぎる

  なんとかインストールに成功して、ライブラリを拡張しようとすると[vcpkg](https://docs.microsoft.com/ja-jp/cpp/vcpkg)なるMS標準のVC++向けパッケージマネージャが用意されてはいるのですが、boost(C++の次期標準)一つ導入するのにも苦労する始末(多分、ソース取ってきて自前ビルド出来る人でも無いと正しく導入出来ない。。。)

- 標準プロジェクト設定で付いてくるプリコンパイルドヘッダが初心者には厄介

  - プロジェクト構築時に未使用設定に出来るので、外しておく事を推奨

    - 作成後でもプロジェクト設定から外す事は可能です

  - コンパイル時間を短縮する良い仕組みではあるのですが、C++の教科書に載っているコードがビルドエラーにされてしまう

    ```cpp
    // 最初の行に#include <pch.h>が必要
    #include <iostream>
    
    int main()
    {
        std::cout << "hello c++ world!!" << std::end;
    }
    ```

### gnupack

Windows環境でLinuxライクな環境を構築するcygwinと便利なパッケージを一括導入する事が出来ます。

### 導入方法

1. [gnupack](https://ja.osdn.net/projects/gnupack/)のページに行く
2. **gnupack-pretest_devel-yyyy.mm.dd.exe**のファイルをダウンロードする
3. ダウンロードしたファイルをクリックすると、自己解凍ダイアログが表示されるので、導入したいディレクトリ選択して解凍する
4. 解凍後のディレクトリにあるstartup_cygwin.exeを起動する

ここまでの操作でcygwinコンソールが起動します。あとは、作成したC++のファイルを以下のようにビルドと実行する事が出来ます。

```shell
# g++ test.cpp
# ./a.out
hello world
```

##### (2018/09/22)Emacsを使用する

何故かgnupack-pretest_devel-2018.06.10.exeのパッケージでインストールしたgnupackからEmacsが起動出来ませんでした。仕方ないので、使用される方は[NTEmacs](http://cha.la.coocan.jp/doc/NTEmacs.html)のご利用頂くのが良いと思います。インストール手順もリンク先に準備されてますので、導入には苦労しないと思います

(…手抜きでごめんなさいm(__)m)

#### メリット

- Unixライクな環境が導入出来るので、Unixの勉強を兼ねる事が出来ます
- 何も考えずに導入しても取り敢えず一通りの作業が出来る状態になっている
  - cygwinはそれなりに考えてインストールしないと何も出来ない
  - Linuxであっても、ある程度のカスタマイズをしないと使いにくいです

#### デメリット

- CUIベースの操作が強要されます
- Linuxの知識が必要になります。
- 環境導入の手間をすっ飛ばすので、その辺りの知識が身に付かない
  - Unixが上手に使える人は、この辺りの経験をやたら積んでいるものです

#### 

#### オマケ) cygwinを自身で導入する

記事を書く際にcygwinで環境構築をしてみたので、ついでにそちらの手順も紹介しておきます。

1. [cygwin](https://www.cygwin.com/)のページへ行く
2. "Installing Cygwin"の下にあるダウンロードリンクを自身の環境に合わせてクリック(64bit Windowsならsetup-x86_64.exe、32bitならsetup-x86.exeを選ぶ)
3. cygwin環境を構築したいディレクトリに先ほどダウンロードしたインストーラを置く。
   - 半角スペースは色々と面倒な事になるので、以下のようなディレクトリに置くのがおススメ
     - ex.)cygwin環境ディレクトリ例
       - c:\cygwin
       - c:\devel\cygwin
4. インストーラーを起動しdevelパッケージを選択してインストールする
   - インストールは以下の流れで行うのがおススメです
     - 初回起動時は[Choose A Download Source]で一旦[Download Without Installing]で、ローカルにパッケージを置いておく(この時点ではcygwin環境は何も構築されていない)
     - 二回目では、同じ画面から[Install from Local Package]で一回目にダウンロードしたパッケージを選択してインストール
   - [Choose A Download Site]では、取り敢えず.jpドメインのものを選べばOK
   - [Select Package]では**[View] : Category**を選んでから、下の画面をマウスクリックで以下のように変更して下さい。
     - [Devel Default] -> [Devel  **Install**]
   - Unix練習環境として使いたいなら、ついでに他のパッケージを選ぶと良いでしょう。私の場合、取り敢えず以下のものを入れておきました
     - [Editor] - [Emacs]
     - [shells] - [zsh]
     - [Util] - [tmux]
